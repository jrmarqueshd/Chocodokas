let CACHE_NAME="v1_cache_chocodokas",FILES_TO_CACHE=["/offline.html"];self.addEventListener("install",e=>{e.waitUntil(caches.open(CACHE_NAME).then(e=>(console.log("[ServiceWorker] Cache aberto com sucesso!"),e.addAll(FILES_TO_CACHE)))),self.skipWaiting()}),self.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(e=>Promise.all(e.map(e=>{if(e!==CACHE_NAME)return console.log("[ServiceWorker] Limpando o cache antigo! ",e),caches.delete(e)})))),self.clients.claim()}),self.addEventListener("fetch",e=>{console.log("[ServiceWorker] Fetch",e.request.url),"navigate"===e.request.mode&&e.respondWith(fetch(e.request).catch(()=>caches.open(CACHE_NAME).then(()=>caches.match("offline.html"))))});